# Общая информация

- Ссылка на текст тестового задания - https://drive.google.com/file/d/1pw5PbQHCz6eWw-dn8NfN5DbFe7HxRxe-/
- Ссылка на билд - https://drive.google.com/file/d/1BV5y6KwlSPF_dBTARwQOAr_GoTBbZLjB/
- Версия Unity - 2022.3.36f1
- Время выполнения - 18 часов
- Использованные фреймворки - Zenject, UniTask

# Реализованные пункты т/з

- Используется портретная ориентация экрана, ввод осуществляется посредством джойтика с помощью New Input System 
- Система перемещения персонажа использует физические компоненты PhysX
- Персонаж имеет несколько статов - здоровье (при достижении здоровьем нуля уровень перезапускается со сбросом прогресса), выносливость (определяющая скорость передвижения персонажа), сила и мудрость (не влияют явно на игровой процесс)
- У персонажа присутствуют две анимации - Idle и бег
- Присутствует UI-панель, отображающая текущее состояние статов персонажа
- Присутствует система инвентаря, ограниченная 10 ячейками и позволяющая:
  - Использовать предметы (двойное нажатие на ячейку)
  - Перемещать и объединять их (перетягивание предмета в другую ячейку)
  - Удалять (перетягивание предмета не в другую ячейку)
  - Просматривать описание предмета (удержание ввода на ячейке)
- Реализованы следующие предметы с их действием при применении:
  - Исцеляющее зелье (+1 к текущему здоровью), макс. количество в ячейке - 5
  - Яд (-1 к текущему здоровью), макс. количество в ячейке - 5
  - Зелье скорости (+1 к выносливости), макс. количество в ячейке - 5
  - Молот силы (+1 к силе), макс. количество в ячейке - 1
  - Книга мудрости (+1 к мудрости), макс. количество в ячейке - 1
- Содержимое инвентаря и состояние статов персонажа сохраняется между сессиями и сбрасывается при 0 здоровья и нажатии на кнопку рестарта

# Детали технической реализации

## Flow логики
- Явный контроль за состояниями игры реализован с помощью [машины состояний](Assets/Content/Infrastructure/States). В проекте используются следующие состояния:
    - Bootstrap - точка входа в игру
    - Load Progress - загрузка существующих или создание новых игровых данных
    - Load Game Scene - загрузка игровой сцены
    - Load Level - создание игровой симуляции
    - Game Loop - процесс игровой симуляции
    - End Game - конец игровой сессии, переход к состоянию Bootstrap

## Использованные сервисы
- Для явного разделения логических зон ответственности в проекте используются следующие инфраструктурные [сервисы](Assets/Content/Infrastructure/Services):
    - Persistent Data - хранение игровых данных
    - Save/Load - сохранение и загрузка игровых данных
    - Input - обработка пользовательского ввода
    - Logging - логгирование
    - Static Data - конфигурационные данные, которые можно получать извне - например, по сети
- А также ряд геймплейных сервисов:
  - [Inventory](Assets/Content/Gameplay/Code/Inventory/InventoryService.cs) - манипуляции с данными модели инвентаря
  - [Item Interaction](Assets/Content/Gameplay/Code/Inventory/ItemInteractionService.cs.meta) - взаимодействие предметов с моделью игры при их активации

## Прочее
- Для создания всех игровых сущностей используются [классы-фабрики](Assets/Content/Infrastructure/Factories)
- Взаимодействующие с геймплеем элементы UI работают по реактивной модели (Model-View-Presenter)
- Разрешение зависимостей посредством DI происходит в конструкторах классов или специальных методах `Construct` в случае компонентов `MonoBehaviour`